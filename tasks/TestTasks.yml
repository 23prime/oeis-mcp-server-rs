version: "3"

tasks:
  install:
    desc: "Install tools"
    dir: integration_tests
    cmds:
      - npm install @modelcontextprotocol/inspector

  fix-and-check:
    desc: "Fix and check"
    cmds:
      - task: fix
      - task: check
  aliases:
    - fc

  fix:
    desc: "Fix code"
    dir: integration_tests
    cmds:
      - task: fmt

  check:
    desc: "Format and run"
    dir: integration_tests
    cmds:
      - task: test

  test:
    desc: "Run tests"
    dir: integration_tests
    cmds:
      - pnpm run test

  fmt:
    desc: "Format code with Prettier"
    dir: integration_tests
    cmds:
      - pnpm run format

  fmt:check:
    desc: "Check code formatting"
    dir: integration_tests
    cmds:
      - pnpm run format:check
